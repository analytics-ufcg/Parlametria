<div class="container">
  <div class="relatorios-wrapper">
    <div class="text-wrapper">
      <h1>
        <a id="inicio"></a>
        Ruralistas vs Ambientalistas
      </h1>

      <form>
        <div class="form-group form-inline">
          Pesquisar:
          <input
            class="form-control ml-2"
            type="text"
            name="searchTerm"
            [(ngModel)]="service.searchTerm"
          >
          <span
            class="ml-3"
            *ngIf="service.loading$ | async"
          >
            Carregando...
          </span>
        </div>

        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th
                scope="col"
                sortable="name"
                (sort)="onSort($event)"
              >
                Parlamentar
              </th>
              <th
                scope="col"
                sortable="area"
                (sort)="onSort($event)"
              >
                Partido
              </th>
              <th
                scope="col"
                sortable="population"
                (sort)="onSort($event)"
              >
                UF
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let country of parlamentares$ | async">
              <th scope="row">{{ country.id }}</th>
              <td>
                <ngb-highlight
                  [result]="country.nome_eleitoral"
                  [term]="service.searchTerm"
                ></ngb-highlight>
              </td>
              <td>
                <ngb-highlight
                  [result]="country.sg_partido"
                  [term]="service.searchTerm"
                ></ngb-highlight>
              </td>
              <td>
                <ngb-highlight
                  [result]="country.uf"
                  [term]="service.searchTerm"
                ></ngb-highlight>
              </td>
              <!-- <td>
                <ngb-highlight
                  [result]="country.area | number"
                  [term]="service.searchTerm"
                ></ngb-highlight>
              </td>
              <td>
                <ngb-highlight
                  [result]="country.population | number"
                  [term]="service.searchTerm"
                ></ngb-highlight>
              </td> -->
            </tr>
          </tbody>
        </table>

        <div class="d-flex justify-content-between p-2">
          <ngb-pagination
            [collectionSize]="total$ | async"
            [(page)]="service.page"
            [pageSize]="service.pageSize"
          >
          </ngb-pagination>

          <select
            class="custom-select"
            style="width: auto"
            name="pageSize"
            [(ngModel)]="service.pageSize"
          >
            <option [ngValue]="10">10 items per page</option>
            <option [ngValue]="25">25 items per page</option>
            <option [ngValue]="50">50 items per page</option>
          </select>
        </div>

      </form>

    </div>
  </div>
</div>
